// JavaScript Document
             var myInterpreter = null;

            function initApi(interpreter, scope) {
              // Add an API function for the alert() block.
              var wrapper = function(text) {
                text = text ? text.toString() : '';
                return interpreter.createPrimitive(alert(text));
              };
              interpreter.setProperty(scope, 'alert',
                  interpreter.createNativeFunction(wrapper));

              // Add an API function for the prompt() block.
              var wrapper = function(text) {
                text = text ? text.toString() : '';
                return interpreter.createPrimitive(prompt(text));
              };
              interpreter.setProperty(scope, 'prompt',
                  interpreter.createNativeFunction(wrapper));

              // Add an API function for highlighting blocks.
              var wrapper = function(id) {
                id = id ? id.toString() : '';
                return interpreter.createPrimitive(highlightBlock(id));
              };
              interpreter.setProperty(scope, 'highlightBlock',
                  interpreter.createNativeFunction(wrapper));
            }

            var highlightPause = false;

            function highlightBlock(id) {
              workspace.highlightBlock(id);
              highlightPause = true;
            }

            function parseCode() {
              // Generate JavaScript code and parse it.
              Blockly.JavaScript.STATEMENT_PREFIX = 'highlightBlock(%1);\n';
              Blockly.JavaScript.addReservedWords('highlightBlock');
              var code = Blockly.JavaScript.workspaceToCode(workspace);
              myInterpreter = new Interpreter(code, initApi);
              highlightPause = false;
              workspace.traceOn(true);
              workspace.highlightBlock(null);
            }